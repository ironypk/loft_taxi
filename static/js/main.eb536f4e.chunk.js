(this.webpackJsonploft_taxi=this.webpackJsonploft_taxi||[]).push([[0],{118:function(e,t,a){e.exports={preloader:"Preloader_preloader__9oL39"}},119:function(e,t,a){e.exports=a.p+"static/media/spinner.396f4d78.svg"},120:function(e,t,a){e.exports={overlay:"Overlay_overlay__n_dXB"}},123:function(e,t,a){e.exports={order:"Order_order__2Q42U"}},127:function(e,t,a){e.exports={map_container:"Map_map_container__1913b"}},132:function(e,t,a){e.exports=a(261)},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},18:function(e,t,a){e.exports={welcome_form:"Form_welcome_form__37CzO",head:"Form_head__le1ve",redirect:"Form_redirect__3ZRba",redirect_link:"Form_redirect_link__gLlK1",input:"Form_input__9HMEl",welcome_btn:"Form_welcome_btn__OTPP8"}},19:function(e,t,a){e.exports={payment:"Profile_payment__3PB5X",payment__header:"Profile_payment__header__1YUml",payment__head:"Profile_payment__head__GNNRo",payment__card_wrapper:"Profile_payment__card_wrapper__1bWOA",card:"Profile_card__l8QyO",card_front:"Profile_card_front__1neN-",card__input:"Profile_card__input__1-8so",redirect_form__card__success:"Profile_redirect_form__card__success__2BZJ5"}},22:function(e,t,a){e.exports={take_taxi__label_wrapper:"TakeTaxi_take_taxi__label_wrapper__1tAD0",take_taxi__input_wrapper:"TakeTaxi_take_taxi__input_wrapper__1HpL6",clear_btn:"TakeTaxi_clear_btn__1syvz",path_list:"TakeTaxi_path_list__3zvYs",path_item:"TakeTaxi_path_item__2n3KA"}},261:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(55),o=a.n(c),l=(a(137),a(138),a(139),a(140),a(78)),s=a.n(l),i=a(59),u=a.n(i),m=a(13),p=function(){return n.a.createElement(m.b,{to:"#",className:u.a.logo},n.a.createElement("div",{className:"logo__one ".concat(u.a.logo__one)},"Loft"),n.a.createElement("div",{className:"logo__two ".concat(u.a.logo__two)},"Taxi"))},_=a(30),d=a(264);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={user:{email:"",password:""},isLoggedIn:!1,isFetching:!1},O=Object(d.a)("LOGIN"),g=Object(d.a)("LOGIN_SUCCESS"),h=Object(d.a)("LOGIN_ERROR"),v=Object(d.a)("LOGOUT"),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return f({},e,{user:f({},t.payload),isFetching:!0});case"LOGIN_SUCCESS":return f({},e,{isLoggedIn:!0,isFetching:!1});case"LOGIN_ERROR":return f({},e,{isFetching:!1});case"LOGOUT":return f({},e,{user:f({},e.user,{email:"",password:""}),isLoggedIn:!1});default:return e}},N=a(18),w=a.n(N),x=a(118),y=a.n(x),S=a(119),R=a.n(S),k=function(){return n.a.createElement("img",{className:y.a.preloader,src:R.a,alt:"preloader"})},C=a(120),T=a.n(C),F=function(){return n.a.createElement("div",{className:T.a.overlay})},P=a(263),L=a(262),I=Object(L.a)({form:"login"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:"".concat(w.a.welcome_form," form")},e.isFetching?n.a.createElement(k,null):null,n.a.createElement("div",{className:w.a.head},"\u0412\u043e\u0439\u0442\u0438"),n.a.createElement("div",{className:w.a.redirect},n.a.createElement("div",{className:w.a.redirect_text},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"),n.a.createElement(m.b,{to:"".concat(e.match.url,"/regist"),className:w.a.redirect_link},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"Email \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f*"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{"data-testid":"email_input",component:"input",name:"email",className:"input",required:!0}))),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u041f\u0430\u0440\u043e\u043b\u044c*"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",name:"password",type:"password",className:"input",required:!0}))),n.a.createElement("button",{className:"".concat(w.a.welcome_btn," btn")},"\u0412\u043e\u0439\u0442\u0438"))})),A=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(I,Object.assign({},e,{onSubmit:function(t){e.login(t)}})),e.isFetching?n.a.createElement(F,null):null)},G=a(12),D=Object(G.b)((function(e){return{isFetching:e.loginPage.isFetching}}),{login:O})(A),U=a(83),M=a.n(U),H=Object(L.a)({form:"regist"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:"".concat(w.a.welcome_form," form")},e.isFetching?n.a.createElement(k,null):null,n.a.createElement("div",{className:w.a.head},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),n.a.createElement("div",{className:w.a.redirect},n.a.createElement("div",{className:w.a.redirect_text},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d?"),n.a.createElement(m.b,{to:"/welcome",className:w.a.redirect_link},"\u0412\u043e\u0439\u0442\u0438")),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",required:!0,name:"email",className:"input"}))),n.a.createElement("div",{className:M.a.user_data},n.a.createElement("label",{className:"".concat(M.a.name," label")},n.a.createElement("div",{className:"label_title"},"\u0418\u043c\u044f"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",name:"name",required:!0,className:"input"}))),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",name:"surname",className:"input"})))),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u041f\u0430\u0440\u043e\u043b\u044c"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",name:"password",className:"input"}))),n.a.createElement("button",{className:"".concat(w.a.welcome_btn," btn")},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))})),q=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(H,Object.assign({},e,{onSubmit:function(t){e.regist(t)}})),e.isFetching?n.a.createElement(F,null):null)};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V={user:{email:"",name:"",surname:"",password:""},isFetching:!1},B=Object(d.a)("REGIST"),W=Object(d.a)("REGIST_SUCCESS"),X=Object(d.a)("REGIST_ERROR"),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGIST":return z({},e,{user:z({},t.payload),isFetching:!0});case"REGIST_SUCCESS":case"REGIST_ERROR":return z({},e,{isFetching:!1});default:return e}},Y=Object(G.b)((function(e){return{user:e.registPage.user,isFetching:e.registPage.isFetching}}),{regist:B})(q),Q=a(33),Z=function(e){var t=e.match;return n.a.createElement("div",{"data-testid":"welcome",className:s.a.welcome},n.a.createElement("div",{className:s.a.welcome__logo},n.a.createElement(p,null)),n.a.createElement(Q.d,null,n.a.createElement(Q.b,{path:"".concat(t.path,"/"),component:D,exact:!0}),n.a.createElement(Q.b,{path:"".concat(t.path,"/regist"),component:Y})))},$=a(123),ee=a.n($);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var re={card:{cardNumber:"",expiryDate:"",cardName:"",cvc:""},isCard:!1,toggleForm:!1,isFetching:!1,token:""},ne=Object(d.a)("CHECK_STORAGE_CARD"),ce=Object(d.a)("SET_TOKEN"),oe=Object(d.a)("SAVE_CARD"),le=Object(d.a)("TOGGLE_FORM"),se=Object(d.a)("SAVE_CARD_SUCCESS"),ie=Object(d.a)("SAVE_CARD_ERROR"),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CARD":return ae({},e,{card:ae({},t.payload),isFetching:!0});case"SAVE_CARD_ERROR":return ae({},e,{isFetching:!1});case"CHECK_STORAGE_CARD":return ae({},e,{card:JSON.parse(localStorage.getItem("card")),isCard:!0});case"SET_TOKEN":return ae({},e,{token:t.payload});case"TOGGLE_FORM":return ae({},e,{toggleForm:t.payload});case"SAVE_CARD_SUCCESS":return ae({},e,{isCard:!0,toggleForm:!0,isFetching:!1});default:return e}},me=a(19),pe=a.n(me),_e=function(e){return n.a.createElement("div",{className:"redirect_form ".concat(pe.a.redirect_form__card__success)},n.a.createElement("div",{className:"redirect_form__title"},"\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"),n.a.createElement("button",{onClick:function(){e.toggleForm(!1),e.history.push("/order/map")},className:"btn"},"\u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"))},de=function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:"".concat(pe.a.payment," form")},e.isFetching?n.a.createElement(k,null):null,n.a.createElement("div",{className:pe.a.payment__header},n.a.createElement("h3",{className:pe.a.payment__head},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),n.a.createElement("div",null,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b")),n.a.createElement("div",{className:pe.a.payment__card_wrapper},n.a.createElement("div",{className:"".concat(pe.a.card," ").concat(pe.a.card_front)},n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",className:"".concat(pe.a.card__input," input"),type:"number",name:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b",required:!0}))),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",className:"".concat(pe.a.card__input," input"),type:"number",name:"date",placeholder:"00/00",required:!0})))),n.a.createElement("div",{className:"".concat(pe.a.card," ").concat(pe.a.card_back)},n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",className:"".concat(pe.a.card__input," input"),name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430",required:!0}))),n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"CVC"),n.a.createElement("div",{className:"input_wrapper"},n.a.createElement(P.a,{component:"input",className:"".concat(pe.a.card__input," input"),type:"number",name:"cvc",placeholder:"***",required:!0}))))),n.a.createElement("button",{className:"btn"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},be=function(e){return n.a.createElement(n.a.Fragment,null,!1===e.toggleF&&n.a.createElement(de,e),!0===e.toggleF&&n.a.createElement(_e,e))},fe=a(11),Ee=Object(L.a)({form:"profile"})(be),Oe=Object(fe.d)(Q.g,Object(G.b)((function(e){return{card:e.profilePage.card,toggleF:e.profilePage.toggleForm,isFetching:e.profilePage.isFetching}}),{saveCard:oe,toggleForm:le}))((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ee,Object.assign({},e,{onSubmit:function(t){e.saveCard(t)}})),e.isFetching?n.a.createElement(F,null):null)}));function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ve={adressList:[],route:{to:"",from:""},isRoute:!1,map:""},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ADRESS_LIST":return he({},e);case"FETCH_ADRESS_LIST_SUCCESS":return he({},e,{adressList:t.payload.map((function(e){return e}))});case"GET_ROUTE":return he({},e);case"GET_MAP":return he({},e,{map:t.payload});case"GET_ROUTE_SUCCESS":return he({},e,{isRoute:!0});case"GET_NEW_ROUTE":return he({},e,{isRoute:!1,route:he({},e.route,{to:"",from:""})});case"ON_CHANGE_ROUTE_FROM":return he({},e,{route:he({},e.route,{from:t.payload})});case"ON_CHANGE_ROUTE_TO":return he({},e,{route:he({},e.route,{to:t.payload})});case"FETCH_ADRESS_LIST_ERROR":return he({},e);case"CLEAR_INPUT_FROM":return he({},e,{route:he({},e.route,{from:""})});case"CLEAR_INPUT_TO":return he({},e,{route:he({},e.route,{to:""})});default:return e}},Ne=Object(d.a)("CLEAR_INPUT_FROM"),we=Object(d.a)("CLEAR_INPUT_TO"),xe=Object(d.a)("GET_NEW_ROUTE"),ye=Object(d.a)("GET_MAP"),Se=Object(d.a)("GET_ROUTE_SUCCESS"),Re=Object(d.a)("GET_ROUTE"),ke=Object(d.a)("ON_CHANGE_ROUTE_FROM"),Ce=Object(d.a)("ON_CHANGE_ROUTE_TO"),Te=Object(d.a)("FETCH_ADRESS_LIST"),Fe=Object(d.a)("FETCH_ADRESS_LIST_SUCCESS"),Pe=Object(d.a)("FETCH_ADRESS_LIST_ERROR"),Le=a(124),Ie=a(125),Ae=a(129),Ge=a(126),De=a(131),Ue=a(127),Me=a.n(Ue),He=a(84),qe=a.n(He),Je=Object(Q.g)((function(e){return n.a.createElement("div",{className:"redirect_form"},n.a.createElement("h2",{className:"redirect_form__title"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),n.a.createElement("p",{className:"redirect_form__text"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438 \u043e \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),n.a.createElement(m.b,{to:"".concat(e.match.url,"/profile")},n.a.createElement("button",{className:"btn"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c")))})),ze=a(128),Ve=a(22),Be=a.n(Ve),We=function(e){var t=function(t,a,r){return e.adressList.map((function(c){return e.isMatching(c,t)&&c!==a?n.a.createElement("li",{onClick:function(){r(c),e.setCurrentField(null)},key:c.toString(),className:Be.a.path_item},c):null}))};return n.a.createElement("ul",{className:Be.a.path_list},"from"===e.currentField&&t(e.from,e.to,e.onChangeRouteFrom),"to"===e.currentField&&t(e.to,e.from,e.onChangeRouteTo))},Xe=function(e){Object(r.useEffect)((function(){e.fetchAdressList()}),[]);var t=Object(r.useState)(),a=Object(ze.a)(t,2),c=a[0],o=a[1],l=n.a.createRef(),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=t.toLowerCase(),-1!==(e=e.toLowerCase()).indexOf(t)};return n.a.createElement("form",{ref:l,onSubmit:function(t){t.preventDefault(e.getRoute())},className:"take_taxi redirect_form"},n.a.createElement("div",{className:Be.a.take_taxi__label_wrapper},n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u041e\u0442\u043a\u0443\u0434\u0430"),n.a.createElement("div",{className:"input_wrapper ".concat(Be.a.take_taxi__input_wrapper," ").concat(Be.a.take_taxi__input_wrapper_from)},n.a.createElement("input",{onChange:function(){var t=l.current.elements.from.value;e.onChangeRouteFrom(t)},value:e.from,onFocus:function(){o("from")},className:"input",name:"from",required:!0}),n.a.createElement("div",{onClick:function(){e.clearInputFrom()},className:Be.a.clear_btn}))),"from"===c&&n.a.createElement(We,Object.assign({className:"".concat(Be.a.path_list_from),currentField:c,setCurrentField:o,isMatching:s},e))),n.a.createElement("div",{className:Be.a.take_taxi__label_wrapper},n.a.createElement("label",{className:"label"},n.a.createElement("div",{className:"label_title"},"\u041a\u0443\u0434\u0430"),n.a.createElement("div",{className:"input_wrapper ".concat(Be.a.take_taxi__input_wrapper)},n.a.createElement("input",{onChange:function(){var t=l.current.elements.to.value;e.onChangeRouteTo(t)},value:e.to,onFocus:function(){o("to")},className:"input",name:"to",required:!0}),n.a.createElement("div",{onClick:function(){e.clearInputTo()},className:Be.a.clear_btn}))),"to"===c&&n.a.createElement(We,Object.assign({isMatching:s,currentField:c,setCurrentField:o},e))),n.a.createElement("button",{disabled:0===e.from.length||0===e.to.length,className:"btn"},"\u0417\u0430\u043a\u0437\u0430\u0442\u044c"))},Ke=Object(fe.d)(Q.g,Object(G.b)((function(e){return{adressList:e.taxi.adressList,to:e.taxi.route.to,from:e.taxi.route.from}}),{fetchAdressList:Te,onChangeRouteFrom:ke,onChangeRouteTo:Ce,getRoute:Re,clearInputFrom:Ne,clearInputTo:we}))(Xe),Ye=Object(G.b)((function(e){return{map:e.taxi.map}}),{getNewRoute:xe})((function(e){return n.a.createElement("div",{className:"redirect_form"},n.a.createElement("h2",{className:"redirect_form__title"},"\u0417\u0430\u043a\u0430\u0437 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d"),n.a.createElement("p",{className:"redirect_form__text"},"\u0412\u0430\u0448\u0435 \u0442\u0430\u043a\u0441\u0438 \u0443\u0436\u0435 \u0435\u0434\u0435\u0442 \u043a \u0432\u0430\u043c\u044e \u041f\u0440\u0438\u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435 10 \u043c\u0438\u043d\u0443\u0442"),n.a.createElement("button",{onClick:function(){var t;(t=e.map).getLayer("route")&&t.removeLayer("route"),t.getSource("route")&&t.removeSource("route"),e.getNewRoute()},className:"btn"},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"))}));qe.a.accessToken="pk.eyJ1IjoiaXJvbnlwayIsImEiOiJjazJqbXNubXMxOGYyM2hudG9jbDk5YjNvIn0.j2u3tq3iMynj-Xl6GwXHqw";var Qe=function(e){function t(e){var a;return Object(Le.a)(this,t),(a=Object(Ae.a)(this,Object(Ge.a)(t).call(this,e))).state={latitude:59.9375,longitude:30.308611,zoom:10},a}return Object(De.a)(t,e),Object(Ie.a)(t,[{key:"componentDidMount",value:function(){this.map=new qe.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v9",center:[this.state.longitude,this.state.latitude],zoom:this.state.zoom,height:this.state.height,width:this.state.width}),this.props.getMap(this.map),!this.props.isCard&&localStorage.card&&this.props.checkStorageCard()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.isCard||this.props.isRoute?null:n.a.createElement(Je,null),this.props.isCard&&!this.props.isRoute?n.a.createElement(Ke,null):null,this.props.isRoute?n.a.createElement(Ye,null):null,n.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:Me.a.map_container}))}}]),t}(n.a.Component),Ze=Object(G.b)((function(e){return{isCard:e.profilePage.isCard,isRoute:e.taxi.isRoute}}),{getMap:ye,checkStorageCard:ne})(Qe),$e=a(85),et=a.n($e),tt=a(86),at=a.n(tt),rt=a(45),nt=a.n(rt),ct=function(e){return"logout"===e.link?n.a.createElement("li",{className:nt.a.item},n.a.createElement(m.b,{to:"/welcome",onClick:function(){e.logout(),localStorage.clear()},className:nt.a.item__link},e.item)):n.a.createElement("li",{className:nt.a.item},n.a.createElement(m.b,{to:"".concat(e.match.url,"/").concat(e.link),className:nt.a.item__link},e.item))},ot=Object(G.b)((function(e){return{state:e}}),{logout:v})(ct),lt=function(e){return n.a.createElement("nav",{className:at.a.menu},n.a.createElement("ul",{className:at.a.menu__list},n.a.createElement(Q.b,{render:function(e){var t=e.match;return n.a.createElement(ot,{match:t,link:"map",item:"\u041a\u0430\u0440\u0442\u0430"})}}),n.a.createElement(Q.b,{render:function(e){var t=e.match;return n.a.createElement(ot,{match:t,link:"profile",item:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}}),n.a.createElement(Q.b,{render:function(e){var t=e.match;return n.a.createElement(ot,{match:t,link:"logout",item:"\u0412\u044b\u0439\u0442\u0438"})}})))},st=function(e){return n.a.createElement("header",{className:et.a.header},n.a.createElement("div",{className:"".concat(et.a.header__container," container")},n.a.createElement("div",{className:"header__logo"},n.a.createElement(p,null)),n.a.createElement(lt,null)))},it=Object(Q.g)((function(e){return n.a.createElement("div",{className:ee.a.order},n.a.createElement(st,null),n.a.createElement("div",{className:"order__content"},n.a.createElement(Q.d,null,n.a.createElement(Q.b,{path:"".concat(e.match.path,"/"),exact:!0,component:Ze}),n.a.createElement(Q.b,{path:"".concat(e.match.path,"/profile"),component:Oe}),n.a.createElement(Q.b,{component:Ze}))))})),ut=a(130),mt=a(7),pt=a.n(mt),_t=a(5),dt=a(26),bt=a(27),ft=pt.a.mark(Ot),Et=function(){var e=Object(dt.a)(pt.a.mark((function e(t){var a,r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt.post("https://loft-taxi.glitch.me/auth",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function Ot(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.e)(O,pt.a.mark((function e(){var t,a,r,n,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.d)();case 2:return t=e.sent,a=t.loginPage.user,e.prev=4,e.next=7,Object(_t.a)(Et,a);case 7:if(r=e.sent,n=r.error,c=r.token,void 0===n){e.next=16;break}return alert(n),e.next=14,Object(_t.c)(h());case 14:e.next=21;break;case 16:return e.next=18,Object(_t.c)(ce(c));case 18:return localStorage.setItem("isLoggedIn",!0),e.next=21,Object(_t.c)(g());case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(4),e.next=27,Object(_t.c)(h());case 27:case"end":return e.stop()}}),e,null,[[4,23]])})));case 2:case"end":return e.stop()}}),ft)}var gt=pt.a.mark(vt),ht=function(){var e=Object(dt.a)(pt.a.mark((function e(t){var a,r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt.post("https://loft-taxi.glitch.me/register",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function vt(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.e)(B,pt.a.mark((function e(){var t,a,r,n,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.d)();case 2:return t=e.sent,a=t.registPage.user,e.prev=4,e.next=7,Object(_t.a)(ht,a);case 7:if(r=e.sent,n=r.token,void 0===(c=r.error)){e.next=16;break}return alert(c),e.next=14,Object(_t.c)(X());case 14:e.next=21;break;case 16:return localStorage.setItem("token",n),e.next=19,Object(_t.c)(W());case 19:return e.next=21,Object(_t.c)(g());case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(4),e.next=27,Object(_t.c)(X());case 27:case"end":return e.stop()}}),e,null,[[4,23]])})));case 2:case"end":return e.stop()}}),gt)}var jt=pt.a.mark(wt),Nt=function(){var e=Object(dt.a)(pt.a.mark((function e(t){var a,r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt.post("https://loft-taxi.glitch.me/card",t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function wt(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.e)(oe,pt.a.mark((function e(){var t,a,r,n;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.d)();case 2:return t=e.sent,a=t.profilePage.card,e.prev=4,e.next=7,Object(_t.a)(Nt,a);case 7:if(r=e.sent,void 0===(n=r.error)){e.next=15;break}return alert(n),e.next=13,Object(_t.c)(ie());case 13:e.next=18;break;case 15:return localStorage.setItem("card",JSON.stringify(a)),e.next=18,Object(_t.c)(se());case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(4),e.next=24,Object(_t.c)(ie());case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));case 2:case"end":return e.stop()}}),jt)}var xt=pt.a.mark(St),yt=function(){var e=Object(dt.a)(pt.a.mark((function e(){var t,a;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt.get("https://loft-taxi.glitch.me/addressList");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();function St(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.e)(Te,pt.a.mark((function e(){var t,a,r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_t.a)(yt);case 3:if(t=e.sent,a=t.addresses,void 0===(r=t.error)){e.next=12;break}return alert(r),e.next=10,Object(_t.c)(Pe());case 10:e.next=14;break;case 12:return e.next=14,Object(_t.c)(Fe(a));case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),e.next=20,Object(_t.c)(Pe());case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));case 2:case"end":return e.stop()}}),xt)}var Rt=pt.a.mark(Tt),kt=function(){var e=Object(dt.a)(pt.a.mark((function e(t){var a,r;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt.get("https://loft-taxi.glitch.me/route?address1=".concat(t.from,"&address2=").concat(t.to));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ct=function(e,t){e.flyTo({center:t[0],zoom:15}),e.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffc617","line-width":8}})};function Tt(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.e)(Re,pt.a.mark((function e(){var t,a,r,n,c;return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.d)();case 2:return t=e.sent,a=t.taxi,r=a.route,n=a.map,e.prev=6,e.next=9,Object(_t.a)(kt,r);case 9:if((c=e.sent).length){e.next=14;break}alert("\u043f\u0443\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u0442"),e.next=18;break;case 14:return e.next=16,Ct(n,c);case 16:return e.next=18,Object(_t.c)(Se(!0));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6);case 23:case"end":return e.stop()}}),e,null,[[6,20]])})));case 2:case"end":return e.stop()}}),Rt)}var Ft=pt.a.mark(Pt);function Pt(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.b)(Ot);case 2:return e.next=4,Object(_t.b)(vt);case 4:return e.next=6,Object(_t.b)(wt);case 6:return e.next=8,Object(_t.b)(St);case 8:return e.next=10,Object(_t.b)(Tt);case 10:case"end":return e.stop()}}),Ft)}var Lt=a(265),It=Object(ut.a)(),At=Object(fe.c)({loginPage:j,registPage:K,profilePage:ue,taxi:je,form:Lt.a}),Gt=Object(fe.e)(At,Object(fe.d)(Object(fe.a)(It)));It.run(Pt),window.store=Gt;var Dt=Gt,Ut=Object(G.b)((function(e){return{isLoggedIn:e.loginPage.isLoggedIn}}),null)((function(e){return n.a.createElement("div",{"data-testid":"app",className:"App"},n.a.createElement(Q.d,null,n.a.createElement(Q.b,{path:"/welcome",component:Z}),n.a.createElement(Q.b,{path:"/order",component:it})),e.isLoggedIn?n.a.createElement(Q.a,{to:"/order/map"}):n.a.createElement(Q.a,{to:"/welcome"}),localStorage.isLoggedIn?n.a.createElement(Q.a,{to:"/order/map"}):n.a.createElement(Q.a,{to:"/welcome"}))})),Mt=function(){return n.a.createElement(m.a,{basename:"/loft_taxi"},n.a.createElement(G.a,{store:Dt},n.a.createElement(Ut,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(Mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},45:function(e,t,a){e.exports={item__link:"Item_item__link__2ro4o"}},59:function(e,t,a){e.exports={logo:"Logo_logo__3P_Bt",logo__one:"Logo_logo__one__3Iyld"}},78:function(e,t,a){e.exports={welcome:"Welcome_welcome__GhE6t",welcome__logo:"Welcome_welcome__logo__26Aug"}},83:function(e,t,a){e.exports={name:"Regist_name__1qtNC",user_data:"Regist_user_data__3OL0A"}},85:function(e,t,a){e.exports={header:"Header_header__lM5dj",header__container:"Header_header__container__3ZR_B",menu__list:"Header_menu__list__emRal",menu__item:"Header_menu__item__3vge8",header__logo:"Header_header__logo__3Qhat"}},86:function(e,t,a){e.exports={menu__list:"Menu_menu__list__j8CVt"}}},[[132,1,2]]]);
//# sourceMappingURL=main.eb536f4e.chunk.js.map